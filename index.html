<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WProject Stream | Login</title>
<link rel="stylesheet" href="style.css">
</head>
<body oncontextmenu="return false">
<div class="container">
  <h2>🎟️ Masukkan Token</h2>
  <input type="text" id="token" placeholder="Token anda" />
  <button onclick="pasteToken()">📋 Paste</button>
  <button onclick="validate()">🔓 Masuk</button>
</div>

<script>
// Anti devtools
document.addEventListener('keydown', e => {
  if (e.key === 'F12' ||
      (e.ctrlKey && e.shiftKey && ['I','J','C'].includes(e.key)) ||
      (e.ctrlKey && e.key === 'U')) e.preventDefault();
});
document.addEventListener('contextmenu', e => e.preventDefault());

// Tombol paste clipboard
function pasteToken() {
  navigator.clipboard.readText().then(t => {
    document.getElementById('token').value = t.trim();
  });
}

// Validasi token
async function validate() {
  const token = document.getElementById('token').value.trim();
  if (!token) return alert("Masukkan token terlebih dahulu!");

  try {
    const res = await fetch(`https://bot.wproject.web.id/api/check?token=${token}`);
    const data = await res.json();

    if (!data.valid) return alert("Token tidak valid atau sedang digunakan!");

    localStorage.setItem("wproject_token", token);
    window.location.href = "player.html";
  } catch (e) {
    alert("Tidak bisa menghubungi server token.");
  }
}
</script>
</body>
</html>
